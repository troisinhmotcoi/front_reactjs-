(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){},1242:function(e,t,a){},1243:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),s=a(13),o=a(6),c=a(9),i=a(7),u=a(11),m=a(10),h=a(12),p=a(15),d=Object(p.a)(),b=a(123),f=function(e){var t=e.component,a=Object(b.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("jwtToken")?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},g=a(14),v=a(30),E=a.n(v),w=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},y=a(124),O=a.n(y),j=a(84),k=a.n(j),S=function(e){return function(t){var a=k.a.stringify({password:e});E.a.post("https://neunhuladinhmenh.herokuapp.com/api/user/secret",a,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){0==!e.data&&(sessionStorage.setItem("secret",JSON.stringify(e.data)),d.push("/about"))})}},C=function(e){return{type:"SET_CURRENT_USER",payload:e}};function T(){var e=C;return e&&e.token?{Authorization:"Bearer ".concat(e.token)}:{}}var N=a(125),x=a.n(N),U=a(126),R=a.n(U),L=a(1269),I=function(e){var t,a;switch(e.score){case 1:t="red",a="20%";break;case 2:t="orange",a="40%";break;case 3:t="yellow",a="60%";break;case 4:t="#5cff47",a="80%";break;case 5:t="green",a="100%"}var n={backgroundColor:t,height:"5px",width:a,transition:"all 300ms ease-in-out"};return r.a.createElement("div",null,r.a.createElement("p",{className:"pwStrWeak"},"weak"),r.a.createElement("p",{className:"pwStrStrong"},"strong"),r.a.createElement("div",{style:n}))},_=(a(115),function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,l=e.user,s=e.score,o=e.btnTxt,c=e.type,i=e.pwMask,u=e.onPwChange;return r.a.createElement("div",{className:"loginBox"},r.a.createElement("h1",null,"Sign Up"),n.message&&r.a.createElement("p",{style:{color:"red"}},n.message),r.a.createElement("form",{onSubmit:t},r.a.createElement(L.a,{name:"name",floatingLabelText:"name",value:l.name,onChange:a,errorText:n.username}),r.a.createElement(L.a,{name:"email",floatingLabelText:"email",value:l.email,onChange:a,errorText:n.email}),r.a.createElement(L.a,{type:c,name:"password",floatingLabelText:"password",value:l.password,onChange:u,errorText:n.password}),r.a.createElement("div",{className:"pwStrRow"},s>=1&&r.a.createElement("div",null,r.a.createElement(I,{score:s}),r.a.createElement(x.a,{className:"pwShowHideBtn",label:o,onClick:i,style:{position:"relative",left:"50%",transform:"translateX(-50%)"}}))),r.a.createElement(L.a,{type:c,name:"pwconfirm",floatingLabelText:"confirm password",value:l.pwconfirm,onChange:a,errorText:n.pwconfirm}),r.a.createElement("br",null),r.a.createElement(R.a,{className:"signUpSubmit",primary:!0,type:"submit",label:"register user"})),r.a.createElement("p",null,"Aleady have an account? ",r.a.createElement("br",null),r.a.createElement("a",{href:"/login"},"Log in here")))}),M=a(25),P=a(233),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={errors:{},user:{name:"",email:"",password:"",pwconfirm:""},btnTxt:"show",type:"password",score:"0"},a.pwMask=a.pwMask.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.pwHandleChange=a.pwHandleChange.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=this.state.user;a[t]=e.target.value,this.setState({user:a})}},{key:"pwHandleChange",value:function(e){var t=e.target.name,a=this.state.user;if(a[t]=e.target.value,this.setState({user:a}),""===e.target.value)this.setState(function(e){return Object.assign({},e,{score:"null"})});else{var n=P(e.target.value);this.setState(function(e){return Object.assign({},e,{score:n.score+1})})}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,pwconfirm:this.state.pwconfirm};console.log(t)}},{key:"pwMask",value:function(e){var t=this;e.preventDefault(),this.setState(function(e){return Object.assign({},e,{type:"password"===t.state.type?"input":"password",btnTxt:"show"===t.state.btnTxt?"hide":"show"})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_,{onSubmit:this.handleSubmit,onChange:this.handleChange,onPwChange:this.pwHandleChange,errors:this.state.errors,user:this.state.user,score:this.state.score,btnTxt:this.state.btnTxt,type:this.state.type,pwMask:this.pwMask}))}}]),t}(n.Component),A=(Object(M.b)(function(e){return{errors:e.errors}},{registerUser:function(e,t){return function(a){E.a.post("http:localhost:8000/api/user/register",e).then(function(e){return t.push("/login")}).catch(function(e){a({type:"GET_ERRORS",payload:{}})})}}})(Object(o.g)(F)),a(48)),D=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={email:"",password:"",errors:{}},e.handleInputChange=e.handleInputChange.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(A.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.email,a=this.state.password;this.props.loginUser(t,a)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{marginTop:"50px",width:"700px"}},r.a.createElement("p",null,"You must log in to view the page at /home"),r.a.createElement("p",null,"email:nam@gmail.com"),r.a.createElement("br",null),r.a.createElement("p",null,"password: meo"),r.a.createElement("h2",{style:{marginBottom:"40px"}},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",placeholder:"email",className:"form-control",name:"email",onChange:this.handleInputChange,value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login User"))))}}]),t}(n.Component),H=(Object(M.b)(function(e){return{errors:e.errors}},{loginUser:function(e,t){return function(a){var n=k.a.stringify({email:e,password:t});E.a.post("https://neunhuladinhmenh.herokuapp.com/api/user/login",n,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(e){if(0==!e.data){sessionStorage.setItem("jwtToken",JSON.stringify(e.data.remember_token)),w(e.data.remember_token);var t=O()(e.data.remember_token);a(C(t)),d.push("/home")}}).catch(function(e){a({type:"GET_ERRORS",payload:{}})})}}})(D),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={currentUser:C,users:null},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var e={method:"GET",headers:T()};return fetch("https://neunhuladinhmenh.herokuapp.com/api/user",e).then(function(e){return e.data})})().then(function(t){return e.setState({users:t})})}},{key:"render",value:function(){var e=this.state,t=e.currentUser,a=e.users;return r.a.createElement("div",null,r.a.createElement("h1",null,"Hi ",t.firstName,"!"),r.a.createElement("p",null,"You're logged !!"),r.a.createElement("h3",null,"Love like oxygen:"),a&&r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",{key:e.id},e.firstName," ",e.lastName)})))}}]),t}(r.a.Component)),B=function(e){function t(){var e;Object(c.a)(this,t),e=Object(u.a)(this,Object(m.a)(t).call(this));var a=sessionStorage.getItem("secret");return e.state={posts:a,isLoading:!1},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=(e.isLoading,e.posts);return r.a.createElement(r.a.Fragment,null,t,r.a.createElement("div",null," ",r.a.createElement(s.b,{to:"/article"},"back")))}}]),t}(r.a.Component),G=Object(M.b)(null,{secretUser:S})(B),J=a(37),z=a(129),W={},Y=a(130),X=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},q={isAuthenticated:!1,user:{}},K={post:{}},Q=Object(J.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(Y.a)({},e,{isAuthenticated:!X(t.payload),user:t.payload});case"LOGOUT":return{};default:return e}},secret:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SECRET_POST":return{post:t.payload};default:return e}}}),V=Object(J.e)(Q,{},Object(J.d)(Object(J.a)(z.a))),Z=(a(238),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={password:"",errors:{}},e.handleInputChange=e.handleInputChange.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(A.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.password;this.props.secretUser(t)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{marginTop:"50px",width:"700px"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Nh\u1eadp v\xe0o"))))}}]),t}(n.Component)),$=Object(M.b)(function(e){return{errors:e.errors}},{secretUser:S})(Z),ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,users:[],error:null},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"fetchUsers",value:function(){var e=this;fetch("https://neunhuladinhmenh.herokuapp.com/api/polls").then(function(e){return e.json()}).then(function(t){return e.setState({users:t,isLoading:!1})}).catch(function(t){return e.setState({error:t,isLoading:!1})})}},{key:"componentDidMount",value:function(){this.fetchUsers()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.users,n=e.error;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("p",null,n.message):null,t?r.a.createElement("h3",null," loading ...."):a.map(function(e){return"love"===e.tag?r.a.createElement("div",{className:"params"},r.a.createElement("h1",{className:"entry_title"},r.a.createElement("a",null,'B\u1ea3o v\u1ec7: "',e.title,'"')),r.a.createElement(M.a,{store:V},r.a.createElement($,null))):r.a.createElement("div",{className:"params"},r.a.createElement("h1",{className:"entry_title"},r.a.createElement("a",null,e.title)),r.a.createElement("div",{className:"entry_content"},r.a.createElement("li",{key:"user.id"},r.a.createElement(s.b,{to:"/article/".concat(e.id)},"continue reading"))))}))}}]),t}(r.a.Component),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={articleTitle:"",artcontent:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;E.a.get("https://neunhuladinhmenh.herokuapp.com/api/polls/".concat(t)).then(function(t){null==t.data.tag&&e.setState({articleTitle:t.data.title,artcontent:t.data.content})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.articleTitle,a=e.artcontent.replace(/\n/g,"<br/>");return r.a.createElement(r.a.Fragment,null,t,a.split("<br/>").map(function(e){return""===e?r.a.createElement("br",null):r.a.createElement("div",null,r.a.createElement("p",null,e))}),r.a.createElement(s.b,{to:"/article"},"back"))}}]),t}(r.a.Component),ae=function(){return r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/article",component:ee}),r.a.createElement(o.b,{path:"/article/:id",component:te}))},ne=a(131),re=a.n(ne),le=(a(276),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(o.d,null,r.a.createElement(o.a,{exact:!0,from:"/",to:"/login"}),r.a.createElement(f,{path:"/home",component:H}),r.a.createElement(re.a,null,r.a.createElement(o.b,{path:"/article",component:ae}),r.a.createElement(o.b,{path:"/about",component:G}))))}}]),t}(n.Component)),se=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={showMe:!0},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"operation",value:function(){this.setState({showMe:!this.state.showMe})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("label",{onClick:function(){return e.operation()}},r.a.createElement("top",null),r.a.createElement("middle",null),r.a.createElement("bottom",null)),this.state.showMe?r.a.createElement("div",null,r.a.createElement("div",{className:"navbar-link"},r.a.createElement("li",null,r.a.createElement(s.b,{to:"/home"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/article"},"Posts")))):null)}}]),t}(r.a.Component);a(1242);Object(l.render)(r.a.createElement(s.a,null,r.a.createElement(o.c,{history:d},r.a.createElement(se,null),r.a.createElement(M.a,{store:V},r.a.createElement(le,null)))),document.getElementById("root"))},136:function(e,t,a){e.exports=a(1243)},238:function(e,t,a){}},[[136,1,2]]]);
//# sourceMappingURL=main.280d78a0.chunk.js.map