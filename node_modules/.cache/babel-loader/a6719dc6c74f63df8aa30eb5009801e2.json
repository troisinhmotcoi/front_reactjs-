{"ast":null,"code":"var _jsxFileName = \"/home/anhhuynh/front_reactjs-/src/components/navbar/SignUpContainer.js\";\nimport React, { Component } from \"react\";\nimport SignUpForm from \"./SignUpForm.js\";\nimport axios from 'axios';\n\nconst zxcvbn = require(\"zxcvbn\");\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errors: {},\n      user: {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        pwconfirm: \"\"\n      },\n      btnTxt: \"show\",\n      type: \"password\",\n      score: \"0\"\n    };\n    this.pwMask = this.pwMask.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.submitSignup = this.submitSignup.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.pwHandleChange = this.pwHandleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const field = event.target.name;\n    const user = this.state.user;\n    user[field] = event.target.value;\n    this.setState({\n      user\n    });\n  }\n\n  pwHandleChange(event) {\n    const field = event.target.name;\n    const user = this.state.user;\n    user[field] = event.target.value;\n    this.setState({\n      user\n    });\n\n    if (event.target.value === \"\") {\n      this.setState(state => Object.assign({}, state, {\n        score: \"null\"\n      }));\n    } else {\n      var pw = zxcvbn(event.target.value);\n      this.setState(state => Object.assign({}, state, {\n        score: pw.score + 1\n      }));\n    }\n  }\n\n  submitSignup(user) {\n    var params = {\n      name: user.usr,\n      password: user.pw,\n      email: user.email\n    };\n    axios.post(\"http://localhost:8000/api/user/register\", params).then(res => {\n      localStorage.token = res.data.token;\n      localStorage.isAuthenticated = true;\n      window.location.reload();\n    }).catch(err => {\n      console.log(\"Sign up data submit error: \", err);\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const user = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      pwconfirm: this.state.pwconfirm\n    };\n    console.log(user);\n  }\n\n  pwMask(event) {\n    event.preventDefault();\n    this.setState(state => Object.assign({}, state, {\n      type: this.state.type === \"password\" ? \"input\" : \"password\",\n      btnTxt: this.state.btnTxt === \"show\" ? \"hide\" : \"show\"\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(SignUpForm, {\n      onSubmit: this.handleSubmit,\n      onChange: this.handleChange,\n      onPwChange: this.pwHandleChange,\n      errors: this.state.errors,\n      user: this.state.user,\n      score: this.state.score,\n      btnTxt: this.state.btnTxt,\n      type: this.state.type,\n      pwMask: this.pwMask,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/home/anhhuynh/front_reactjs-/src/components/navbar/SignUpContainer.js"],"names":["React","Component","SignUpForm","axios","zxcvbn","require","Signup","constructor","props","state","errors","user","name","email","password","pwconfirm","btnTxt","type","score","pwMask","bind","handleChange","submitSignup","handleSubmit","pwHandleChange","event","field","target","value","setState","Object","assign","pw","params","usr","post","then","res","localStorage","token","data","isAuthenticated","window","location","reload","catch","err","console","log","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SignUpForm from \"./SignUpForm.js\";\nimport axios from 'axios';\nconst zxcvbn = require(\"zxcvbn\");\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errors: {},\n      user: {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        pwconfirm: \"\"\n      },\n      btnTxt: \"show\",\n      type: \"password\",\n      score: \"0\"\n    };\n\n    this.pwMask = this.pwMask.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.submitSignup = this.submitSignup.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.pwHandleChange = this.pwHandleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const field = event.target.name;\n    const user = this.state.user;\n    user[field] = event.target.value;\n\n    this.setState({\n      user\n    });\n  }\n\n  pwHandleChange(event) {\n    const field = event.target.name;\n    const user = this.state.user;\n    user[field] = event.target.value;\n\n    this.setState({\n      user\n    });\n\n    if (event.target.value === \"\") {\n      this.setState(state =>\n        Object.assign({}, state, {\n          score: \"null\"\n        })\n      );\n    } else {\n      var pw = zxcvbn(event.target.value);\n      this.setState(state =>\n        Object.assign({}, state, {\n          score: pw.score + 1\n        })\n      );\n    }\n  }\n\n  submitSignup(user) {\n    var params = { name: user.usr, password: user.pw, email: user.email };\n    axios\n      .post(\"http://localhost:8000/api/user/register\", params)\n      .then(res => {\n         \n          localStorage.token = res.data.token;\n          localStorage.isAuthenticated = true;\n          window.location.reload();\n      \n      })\n      .catch(err => {\n        console.log(\"Sign up data submit error: \", err);\n      });\n  }\n\n    handleSubmit(event) {\n    event.preventDefault();\n    const user = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      pwconfirm: this.state.pwconfirm\n  }\n  console.log(user);\n    }\n  \n\n  pwMask(event) {\n    event.preventDefault();\n    this.setState(state =>\n      Object.assign({}, state, {\n        type: this.state.type === \"password\" ? \"input\" : \"password\",\n        btnTxt: this.state.btnTxt === \"show\" ? \"hide\" : \"show\"\n      })\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <SignUpForm\n          onSubmit={this.handleSubmit}\n          onChange={this.handleChange}\n          onPwChange={this.pwHandleChange}\n          errors={this.state.errors}\n          user={this.state.user}\n          score={this.state.score}\n          btnTxt={this.state.btnTxt}\n          type={this.state.type}\n          pwMask={this.pwMask}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}